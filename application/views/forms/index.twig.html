{% extends "layout/main.twig.html" %}
{% block content %}
<div class="col-md-12">
    <div class="box box-primary rfd">
        <div class="box-header">
            <h3 class="box-title">Request Form Detail</h3>
        </div><!-- /.box-header -->
        <div class="box-body">    
                <form action="/settings/forms" method="post">
                    
                        <div class="form-group row">
                            <div class="col-md-6 ">
                                <label>Employee: </label>
                                 <select required name="job_position" class="form-control " id="employee_name" placeholder="">
                                     <option value="" disabled selected>select employee</option>
                                    {% for employee in employees %}
                                      <option value="{{  employee.id }}">{{ employee.getName() }}</option>
                                    {% endfor %}
                                 </select>
                            </div>
                             <div class="col-md-6">
                                <label>Type of form</label>
                                <select required name="department" class="form-control " id="exampleInputEmail1" placeholder="">
                                    {% for department in departments %}
                                      <option value="{{  department.id }}">{{  department.department_name }}</option>
                                    {% endfor %}
                                </select>
                             </div>

                             <div class="col-md-6 description hidden">
                               <hr/>
                                <label>Detail</label>
                                 <ul>
                                     <li >Department: <span class="department"></span> </li>
                                     <li>Job Position: <span class="position"></span> </li>
                                 </ul>
                             </div>
                        </div>
                    
                        
                </form>
            </div>

            <!-- <div class="overlay"></div><div class="loading-img"></div>    -->
        </div>
         <div class="box box-primary">
        <div class="box-header">
            <h3 class="box-title">Request Form Detail</h3>
        </div><!-- /.box-header -->
        <div class="box-body">    
                <form action="/settings/forms" method="post">
                    
                        <div class="form-group row">
                            <div class="col-md-6 ">
                                <label>Name: </label>
                                <input type="text" class="form-control" name="form-name">
                            </div>
                     
                            <div class="col-md-6">
                                <label>Job Position</label>
                                
                                 <select required name="job_position" class="form-control " id="exampleInputEmail1" placeholder="">
                                    {% for job_position in job_positions %}
                                      <option value="{{  job_position.id }}">{{ job_position.job_position }}</option>
                                    {% endfor %}
                                 </select>
                            </div>

                
                            <div class="col-md-6">
                            <label>Department</label>
                            
                             <select required name="department" class="form-control " id="exampleInputEmail1" placeholder="">
                                {% for department in departments %}
                                  <option value="{{  department.id }}">{{  department.department_name }}</option>
                                {% endfor %}
                            </select>
                            </div>
                             <div class="col-md-6">
                                <label>Type of form</label>
                                
                                 <select required name="department" class="form-control " id="exampleInputEmail1" placeholder="">
                                    {% for department in departments %}
                                      <option value="{{  department.id }}">{{  department.department_name }}</option>
                                    {% endfor %}
                                </select>
                             </div>
                        </div>

                         <div class="form-group row">
                        </div>
                </form>
            </div>
        </div>
    </div>
     
<script type="text/javascript">
    (function($){
        $('#employee_name').change(function(){
            var elem = $(this);
            $.get('forms/rest-get-user',{id:elem.val()},function(response){
                var description = $('.description');
                description.removeClass('hidden').find('.department').text(response.department);
                description.find('.position').text(response.position);             
            });
        });
    })(jQuery);
</script>
{% endblock %}
